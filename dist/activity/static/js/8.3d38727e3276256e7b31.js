webpackJsonp([8],{"2uzG":function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=a("PJh5"),s=a.n(e),o=a("GQaK"),r=a("oyxo"),n={metaInfo:{title:"活动列表"},props:{probeType:{type:Number,default:1},click:{type:Boolean,default:!0},scrollX:{type:Boolean,default:!1},listenScroll:{type:Boolean,default:!0},data:{type:Array,default:null},pullup:{type:Boolean,default:!0},pulldown:{type:Boolean,default:!0},beforeScroll:{type:Boolean,default:!1},refreshDelay:{type:Number,default:20}},data:function(){return{modleShow:!1,logo:'this.src="'+a("bzac")+'"',value:"-1",dataArr:{type:1,actType:-1,keyWord:"",desc:1,page:1},is_not:!1,List:[],totalRecord:0,maxResult:0,totalPage:0,typeList:[],shareMsg:{},info:{}}},created:function(){var t=this;this.dataArr.type=this.$route.query.type,this.getShareMsg(),this.$nextTick(function(){t.initScroll()}),this.getType()},methods:{submit:function(){this.dataArr.page=1,this.List=[],this.initScroll()},getShareMsg:function(){var t=this;r.b.post("/index.php?app=activity&m=act&cmd=203",{}).then(function(i){t.shareMsg=i.info})},Mask:function(){this.modleShow=!1},modelShow:function(){this.modleShow=!0},refresh:function(){this.scroll&&this.scroll.refresh()},searchClear:function(){this.dataArr.keyWord=""},goDetail:function(t){var i=this.shareMsg.appid,a=this.shareMsg.corpid,e=this.shareMsg.corpurl,s=this.info.curr_user_id;this.$router.push({path:"/activity/activitydetail?corpid="+a+"&corpurl="+e+"&appid="+i+"&id="+t+"&shareId="+s})},cancel:function(){this.dataArr.keyWord=""},getType:function(){var t=this;r.b.post("/index.php?app=activity&m=act&cmd=101").then(function(i){if(0===i.errcode){i.info.unshift({type_name:"全部",id:"-1"});for(var a=0;a<i.info.length;a++)t.typeList.push({label:i.info[a].type_name,value:i.info[a].id});t.typeList[1].value=""+i.info[1].id,t.typeList}else t.$toast.fail("分类获取失败")})},initScroll:function(){var t=this;this.$toast.loading({duration:1e3}),r.b.post("/index.php?app=activity&m=act&cmd=102",{data:this.dataArr}).then(function(i){0===i.errcode&&(t.info=i.info,t.$nextTick(function(){for(var a in i.info.data)i.info.data[a].public_time=s.a.unix(i.info.data[a].public_time).format("YYYY-MM-DD HH:mm");t.totalPage=Math.ceil((Number(i.info.count)+20-1)/20),1===t.dataArr.page?t.List=i.info.data:t.List=t.List.concat(i.info.data),0===i.info.data.length&&(t.is_not=!0),t.scroll||(t.scroll=new o.a(t.$refs.wrapper,{probeType:t.probeType,click:t.click,scrollX:t.scrollX,mouseWheel:{speed:20,invert:!1,easeTime:300}}),t.pullup&&t.scroll.on("scrollEnd",function(){t.scroll.y<=t.scroll.maxScrollY+50?(t.dataArr.page++,t.dataArr.page<t.totalPage?t.initScroll():0===t.List.length?t.is_not=!1:t.is_not=!0):t.is_not=!1}),t.pulldown&&t.scroll.on("touchEnd",function(i){i.y>10&&(t.dataArr.page=1,t.initScroll())}))}))})}},watch:{List:function(t){var i=this;setTimeout(function(){i.refresh()},this.refreshDelay)},value:function(t){this.dataArr.actType=t,this.dataArr.page=1,this.List=[],this.initScroll(),this.modleShow=!1},"dataArr.keyWord":function(t){this.dataArr.keyWord=t,this.dataArr.page=1,this.List=[],this.initScroll()}},mounted:function(){document.documentElement.scrollTop=0,weui.searchBar("#searchBar")}},c={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"activityList w100 h100",class:{overflow:t.modleShow},attrs:{"data-page":"activityList"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.modleShow,expression:"modleShow"}],attrs:{id:"androidActionsheet"}},[a("div",{staticClass:"weui-mask",on:{click:t.Mask}}),t._v(" "),a("div",{staticClass:"weui-action"},[a("div",{staticClass:"square"}),t._v(" "),a("div",{staticClass:"weui-actionsheet__menu menu",on:{click:t.Mask}},[a("wv-radio",{attrs:{options:t.typeList},model:{value:t.value,callback:function(i){t.value=i},expression:"value"}})],1)])]),t._v(" "),a("div",{staticClass:"weui-search-bar",attrs:{id:"searchBar"}},[a("div",{staticClass:"weui-search-bar__form"},[a("div",{staticClass:"weui-search-bar__box"},[a("i",{staticClass:"weui-icon-search"}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataArr.keyWord,expression:"dataArr.keyWord"}],staticClass:"weui-search-bar__input",attrs:{type:"search",id:"searchInput",placeholder:"搜索",required:""},domProps:{value:t.dataArr.keyWord},on:{keyup:function(i){if(!("button"in i)&&13!==i.keyCode)return null;t.submit(i)},input:function(i){i.target.composing||t.$set(t.dataArr,"keyWord",i.target.value)}}}),t._v(" "),a("a",{staticClass:"weui-icon-clear",attrs:{href:"javascript:",id:"searchClear"},on:{click:t.searchClear}})]),t._v(" "),t._m(0)]),t._v(" "),a("a",{staticClass:"weui-search-bar__cancel-btn",attrs:{href:"javascript:",id:"searchCancel"},on:{click:t.cancel}},[t._v("取消")]),t._v(" "),a("i",{staticClass:"rulericon rulericon-chose",attrs:{id:"showAndroidActionSheet"},on:{click:t.modelShow}})]),t._v(" "),a("div",{ref:"wrapper",staticClass:"container-main wrapper"},[a("div",{staticClass:"content"},[t._l(t.List,function(i,e){return a("div",{key:e,staticClass:"weui-panel__bd item",on:{click:function(a){t.goDetail(i.act_id)}}},[a("div",{staticClass:"weui-media-box weui-media-box_text"},[a("div",{staticClass:"title"},[a("h4",{staticClass:"weui-media-box__title"},[t._v(t._s(i.title)+" ")]),t._v(" "),Number(i.see_state)?t._e():a("span",{staticClass:"red"})]),t._v(" "),a("div",{staticClass:"state"},[1===Number(i.activity_state)?[t._v("报名中")]:t._e(),t._v(" "),2===Number(i.activity_state)?[t._v("未开始")]:t._e(),t._v(" "),3===Number(i.activity_state)?[t._v("已结束")]:t._e(),t._v(" "),4===Number(i.activity_state)?[t._v("进行中")]:t._e()],2),t._v(" "),a("p",{staticClass:"weui-media-box__desc"},[t._v(t._s(i.public_time)+" ")]),t._v(" "),i.activity_pic?a("div",{staticClass:"weui-media-box__desc images"},[a("img",{attrs:{src:i.activity_pic,onerror:t.logo,alt:"",srcset:""}})]):t._e(),t._v(" "),a("p",{staticClass:"weui-media-box__desc"},[t._v(t._s(i.desc))])])])}),t._v(" "),a("div",{staticClass:"page__bd",staticStyle:{"margin-bottom":"10px"}},[t.is_not&&1!==t.dataArr.page?a("div",{staticClass:"weui-loadmore weui-loadmore_line"},[a("span",{staticClass:"weui-loadmore__tips"},[t._v("已经到底啦~")])]):t._e(),t._v(" "),0===t.List.length?a("div",[t._m(1)]):t._e()])],2)])])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("label",{staticClass:"weui-search-bar__label",staticStyle:{"transform-origin":"0px 0px 0px",opacity:"1",transform:"scale(1, 1)"},attrs:{id:"searchText"}},[i("i",{staticClass:"weui-icon-search"}),this._v(" "),i("span",[this._v("搜索")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{attrs:{id:"rec-list"}},[i("div",{attrs:{id:"comment-list"}},[i("div",{staticClass:"has-no-record"},[i("img",{attrs:{src:"data:image/png;base64,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"}}),this._v(" "),i("span",[this._v("暂时没有内容")])])]),this._v(" "),i("div",{attrs:{id:"comment-list-wrap"}})])}]};var l=a("VU/8")(n,c,!1,function(t){a("t/n8")},"data-v-0fa88c29",null);i.default=l.exports},"t/n8":function(t,i){}});